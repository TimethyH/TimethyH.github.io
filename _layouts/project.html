---
layout: default
---

{% if page.thumbnail %}
<!-- Background image with fade effect -->
<div class="project-background" style="--project-bg-image: url('{{ page.thumbnail | relative_url }}');"></div>
{% endif %}

<div class="project-container {% if page.thumbnail %}with-background{% endif %}">
  <a href="{{ '/projects/' | relative_url }}" class="project-back-button">
    ‚Üê Back to Projects
  </a>

  <div class="project-header">
    <h1>{{ page.title }}</h1>
    {% if page.subtitle %}
    <h4 class="project-subtitle">{{ page.subtitle }}</h4>
    {% endif %}

   {% if page.tags %}
    <div class="project-tags">
      {% for tag in page.tags %}
      <span class="project-tag">{{ tag }}</span>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  <article itemscope itemtype="http://schema.org/BlogPosting">
    <div itemprop="articleBody">
      {{ content }}
    </div>
  </article>

  <div class="project-share">
    {%- include share_page.html -%}
  </div>

  <div class="project-comments">
    {%- include blog_post_comments.html -%}
  </div>

  <!-- Project footer signature -->
  <div class="project-footer">
    <div class="project-footer-divider"></div>
    <div class="project-footer-content">
      <a href="{{ '/' | relative_url }}" class="project-footer-signature">
        <div class="signature-name">Timethy Hyman</div>
        <div class="signature-title">Graphics Programmer</div>
      </a>
      <div class="project-footer-social">
        <a href="{{ site.github_username | prepend: 'https://github.com/' }}" target="_blank" rel="noopener" aria-label="GitHub">
          <i class="fab fa-github"></i>
        </a>
        <a href="{{ site.linkedin_username | prepend: 'https://linkedin.com/in/' }}" target="_blank" rel="noopener" aria-label="LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </div>
    </div>
  </div>

  <!-- Initialize lightGallery for project images -->
  <script type="text/javascript">
    $(document).ready(function() {
      $(".project-media").lightGallery({
        thumbnail: false,
        selector: '.image'
      });
    });
  </script>

  <!-- Lazy load videos with autoplay only on desktop -->
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      const isMobile = window.innerWidth <= 768;
      const isIOS = /iPhone|iPad|iPod/.test(navigator.userAgent);
      
      // Intersection Observer for lazy video loading
      const videoObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const video = entry.target;
          
          if (entry.isIntersecting) {
            // Video is visible in viewport
            if (!isMobile && !isIOS && video.hasAttribute('autoplay')) {
              // Only autoplay on desktop
              video.play().catch(err => {
                console.log('Autoplay prevented:', err);
              });
            }
          } else {
            // Video is out of viewport - pause it to save resources
            if (video.hasAttribute('autoplay')) {
              video.pause();
            }
          }
        });
      }, { 
        threshold: 0.25, // Trigger when 25% of video is visible
        rootMargin: '50px' // Start loading slightly before it enters viewport
      });

      // Observe all videos on the page
      document.querySelectorAll('video').forEach(video => {
        // Disable autoplay on mobile/iOS immediately
        if (isMobile || isIOS) {
          video.removeAttribute('autoplay');
          video.pause();
        }
        
        // Start observing
        videoObserver.observe(video);
      });
    });
  </script>
</div>